<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  

  <meta name="theme-color" content="#ffffff" />
  <link rel="stylesheet" href="/css/hello-hermit.css">

  <!-- TODO move this out -->
  <title>
    
        
          JuliaCon 2020: Julia for scripting |
        
    
    
      Fredrik Ekre
    
  </title>
</head>

<body class="">
<!-- <body class="dark-theme"> -->
<div class="container">

<header class="header">
<span class="header__inner">

<!-- Logo/home button -->
<a href="/" style="text-decoration: none;">
<div class="logo">
  <span class="logo__mark">
     $ 
    
  </span>
  <span class="logo__text">
     cd /home/fredrik 
    
  </span>
  <span class="logo__cursor" style=" "></span>
</div>
</a>

<span class="header__right">
  <!-- Navigation bar -->
  <nav class="menu">
    <ul class="menu__inner">
      
        <li><a href="/posts/">Posts</a></li>
      
        <li><a href="/about/">About</a></li>
      
      <!-- {{ generate_menu nothing }} -->
    </ul>
  </nav>
  <!-- Theme changer -->
  <span class="menu-trigger hidden">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path>
    </svg>
  </span>
  <span class="theme-toggle unselectable">
    <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
      3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
      13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"></path>
    </svg>
  </span>
</span><!-- header__right -->

</span> <!-- header__inner -->
</header>


<div class="content">


  <main class="post">
  <div class="post-info">
  <p style="display: flex; justify-content: space-between">
  <span>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> 2 minutes
  </span>
  <span>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> 2020-07-29
  </span>
  </p>
  <p>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg> <span class="tag"><a href="/tag/julia">julia</a></span><span class="tag"><a href="/tag/juliacon">juliacon</a></span>
  </p>
  </div>

  <article>

  <div class="post-content">


<!-- Content appended here -->
<div class="franklin-content">

<h1><a href="/posts/julia-for-scripting/">JuliaCon 2020: Julia for scripting</a></h1>

<p>This is one of my presentations from JuliaCon 2020. The slides are available <a href="slides">here</a>, and a recording of the talk is available <a href="https://youtu.be/IuwxE3m0_QQ">here</a>.</p>
<h2 id="abstract"><a href="#abstract">Abstract</a></h2>
<p>The &quot;scripting workflow&quot;, i.e. starting Julia, execute a code snippet, and then exit, is often not the recommended method for Julia code. One reason for this is that Julia is a just-in-time &#40;JIT&#41; compiled language, and the first call to a function is usually a lot slower than subsequent calls due to compilation. In a setting such as scripting there might only be one call to a function before exiting Julia. Spending time compiling the function might not be worth it in such a case, unless the faster runtime makes up for it. A simple example is a script that defines a single function, calls it, and then exits.</p>
<p>The recommended Julia workflow is instead to keep a single Julia session alive for as long as possible, and reuse it for multiple tasks. Even though two tasks A and B are not directly related, they may both use, for example, arrays. Thus, after performing task A we have already compiled some array methods, and task B will benefit from that, with reduced compilation time as the result. This interaction is something that scripting can not take advantage of, since compiled methods are forgotten when exiting Julia.</p>
<p>The problems presented above have two obvious possible solutions: &#40;i&#41; spend less time compiling and &#40;ii&#41; store compiled methods and make them available in future sessions. For the first option we can use Julias interpreter and only compile whats necessary. This is often a great solution for very short-running tasks, and requires nothing extra, just some command line flags to Julia. The second option is a bit more involved &#40;although nowadays pretty easy using the <a href="https://github.com/JuliaLang/PackageCompiler.jl">PackageCompiler.jl</a> package&#41;, however, it can completely elimitate runtime compilation. The downside is that the compiled and cached methods live in a separate file that needs to be bundled with the script.</p>
<p>This talk will discuss how Julia can be used for scripting, present some tips and tricks on how to make scripting more viable, and show some succesful examples of the two solutions presented above.</p>
</div><!-- CONTENT ENDS HERE -->

    </div>
    </article>
    <hr>

<!--
    <div class="post-info">
    <p>
    {{ svg tag }} {{ jlinsert pagetags }}
    </p>


    </div>
-->
    </main>



    </div> <!-- <div class="content"> -->

    <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy 2020 <a rel="author" href="/">Fredrik Ekre</a></span>
            <span><a rel="license" href="/about/#license">License</a></span>
            <span><a href="/about/#privacy_policy">Privacy Policy</a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Website built with <a href="https://franklinjl.org/">Franklin.jl</a></span>
        </div>
    </div>
</footer>


    
    

    <script src="/libs/hello-hermit.js"></script>

    </div> <!-- container -->
  </body>
</html>
